<!-- kod_en.html (EN) -->
<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>Download — Code</title>
<meta name="description" content="Enter your code to download the Novo Ropstvo EPUB.">
<link rel="canonical" href="./kod_en.html">
<link rel="alternate" hreflang="sr" href="./kod.html">
<link rel="alternate" hreflang="cs" href="./kod_cz.html">
<style>
:root{--max:720px}*{box-sizing:border-box}body{margin:0;background:#0b0f12;color:#e8e8e8;font:16px/1.5 system-ui,Segoe UI,Roboto,Arial}
.wrap{max-width:var(--max);margin:0 auto;padding:24px}a{color:#cde3ff}
h1{margin:8px 0 16px;font-size:clamp(22px,3vw,32px)}
.card{background:#10161c;border:1px solid #1f2a33;border-radius:14px;padding:16px;margin:12px 0}
input,button{width:100%;padding:12px 14px;border-radius:10px;border:1px solid #2a3945;background:#0f1419;color:#e8e8e8}
button{cursor:pointer}
.msg{margin-top:10px;font-size:14px;opacity:.9}
.nav a{margin-right:14px;opacity:.9;text-decoration:none}.nav a:hover{opacity:1;text-decoration:underline}
header,footer{max-width:var(--max);margin:0 auto;padding:16px}
.note{opacity:.8;font-size:14px}
.cta{display:inline-block;margin-top:10px;padding:10px 14px;border-radius:10px;background:#19324a;border:1px solid #2a3945;text-decoration:none;color:#e8e8e8}
.cta:hover{background:#1c3854}
</style>
</head>
<body>
<header>
  <nav class="nav">
    <a href="./index_en.html">Home</a>
    <a href="./galerija_en.html">Gallery</a>
    <a href="./placanje_en.html">Payment</a>
    <a href="./kontakt_en.html">Contact</a>
  </nav>
  <div style="position:fixed;top:12px;right:60px">
    <a href="https://www.facebook.com/share/1HiQt3hzhN/" target="_blank" rel="noopener" aria-label="Facebook">
      <svg viewBox="0 0 24 24" width="20" height="20" fill="#e8e8e8"><path d="M22 12a10 10 0 1 0-11.56 9.87v-6.99H7.9V12h2.54V9.8c0-2.5 1.49-3.88 3.77-3.88 1.09 0 2.24.2 2.24.2v2.46h-1.26c-1.24 0-1.63.77-1.63 1.56V12h2.78l-.44 2.88h-2.34v6.99A10 10 0 0 0 22 12z"/></svg>
    </a>
  </div>
  <nav style="position:fixed;top:12px;right:16px;display:flex;gap:10px;font-size:14px">
    <a href="#" data-lang="sr">SR</a>
    <a href="#" data-lang="en">EN</a>
    <a href="#" data-lang="cz">CZ</a>
  </nav>
  <script src="./js/lang-switcher.js?v=3" defer></script>
</header>

<main class="wrap">
  <h1>Enter your download code</h1>
  <div class="card">
    <input id="code" placeholder="Enter code (e.g. NR-2025-XXXX)" autocomplete="one-time-code" autofocus>
    <button id="check">Validate</button>
    <div class="msg" id="msg"></div>
    <div id="dl" style="display:none;margin-top:14px">
      <a id="epub" href="./downloads/novo-ropstvo.epub" download>⬇️ Download EPUB</a>
      <p class="note">If download doesn’t start, right‑click → “Save link as…”.</p>
    </div>
    <a class="cta" href="./dobij-kod.html" target="_blank" rel="noopener">Don’t have a code? Request one →</a>
  </div>
  <p class="note">You receive your code after a successful payment.</p>
</main>

<footer>© 2025 Marjan Mitrović — All rights reserved</footer>

<script>
const ACCESS_CODE = "NR-2025-READ";
const input = document.getElementById('code');
const btn = document.getElementById('check');
const msg = document.getElementById('msg');
const dl  = document.getElementById('dl');
function ok(s){ msg.textContent = "✅ " + s; msg.style.color="#7ee787"; }
function err(s){ msg.textContent = "❌ " + s; msg.style.color="#ff7b72"; }
btn.addEventListener('click', ()=>{
  const v = (input.value||"").trim();
  if (!v) { err("Enter your code."); return; }
  if (v.toUpperCase() === ACCESS_CODE.toUpperCase()) {
    ok("Code valid. Download unlocked.");
    dl.style.display = "block";
    try{ localStorage.setItem("nr_access","1"); }catch(_){}
  } else {
    dl.style.display = "none";
    err("Invalid code. Please try again.");
  }
});
</script>
</body>
</html>
