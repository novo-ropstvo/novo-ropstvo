<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>Contact — Novo Ropstvo</title>
<meta name="description" content="Contact the author of Novo Ropstvo.">
<link rel="canonical" href="./kontakt_en.html">
<script src="./js/lang-switcher.js" defer></script>
<link rel="alternate" hreflang="sr" href="./kontakt.html">
<link rel="alternate" hreflang="cs" href="./kontakt_cz.html">
<style>
:root{--max:720px}*{box-sizing:border-box}body{margin:0;background:#0b0f12;color:#e8e8e8;font:16px/1.5 system-ui,Segoe UI,Roboto,Arial,sans-serif}
.wrap{max-width:var(--max);margin:0 auto;padding:24px}
h1{margin:8px 0 16px;font-size:clamp(22px,3vw,32px)}
.card{background:#10161c;border:1px solid #1f2a33;border-radius:14px;padding:16px;margin:12px 0}
label{display:block;margin:8px 0 4px}
input,textarea,button{width:100%;padding:12px 14px;border-radius:10px;border:1px solid #2a3945;background:#0f1419;color:#e8e8e8}
textarea{min-height:160px;resize:vertical}
button{cursor:pointer}
.row{display:grid;gap:12px}@media(min-width:640px){.row{grid-template-columns:1fr 1fr}}
.msg{margin-top:10px;font-size:14px}
.nav a{margin-right:14px;opacity:.9;text-decoration:none}.nav a:hover{opacity:1;text-decoration:underline}
header,footer{max-width:var(--max);margin:0 auto;padding:16px}
.note{opacity:.8;font-size:14px}
.hp{position:absolute;left:-9999px;top:auto;width:1px;height:1px;overflow:hidden}
</style>
</head>
<body>
<header>
  <nav class="nav">
    <a href="./index_en.html">Home</a>
    <a href="./galerija_en.html">Gallery</a>
    <a href="./placanje_en.html">Payment</a>
    <a href="./kontakt_en.html" aria-current="page">Contact</a>
  </nav>
</header>

<main class="wrap">
  <h1>Contact</h1>
  <div class="card">
    <form id="contactForm">
      <div class="row">
        <div>
          <label>Name</label>
          <input name="name" placeholder="Your name" required>
        </div>
        <div>
          <label>Email</label>
          <input type="email" name="email" placeholder="you@email.com" required>
        </div>
      </div>
      <label>Message</label>
      <textarea name="message" placeholder="Write your message…" required></textarea>

      <input class="hp" name="_gotcha" tabindex="-1" autocomplete="off">

      <div style="display:flex;gap:10px;flex-wrap:wrap;margin-top:10px">
        <button type="submit">Send</button>
        <a id="mailto" href="#" class="note" style="align-self:center">…or send from your email client</a>
      </div>
      <div class="msg" id="msg"></div>
    </form>
    <p class="note">We’ll reply shortly. Fields marked * are required.</p>
  </div>
</main>

<footer>© 2025 Marjan Mitrović — All rights reserved</footer>

<script>
window.FORMSPREE_URL = "https://formspree.io/f/xyzpljrg";

const f=document.getElementById('contactForm');
const m=document.getElementById('msg');
const mailto=document.getElementById('mailto');

function setMailto(){
  const d=new FormData(f);
  const from=(d.get('email')||'').trim();
  const name=(d.get('name')||'').trim();
  const body=(d.get('message')||'').trim();
  const subj=encodeURIComponent("Message from site — Novo Ropstvo");
  const txt =encodeURIComponent(`Name: ${name}\nEmail: ${from}\n\n${body}`);
  mailto.href=`mailto:marjan.posao@gmail.com?subject=${subj}&body=${txt}`;
}
['input','change'].forEach(ev=>f.addEventListener(ev,setMailto)); setMailto();

f.addEventListener('submit', async (e)=>{
  e.preventDefault();
  m.textContent="⏳ Sending…";
  const data=new FormData(f);
  if(data.get('_gotcha')){ m.textContent="❌ Error."; return; }
  const endpoint=(window.FORMSPREE_URL||"").trim();
  if(!endpoint){ m.textContent="✉️ Formspree not connected yet. Use the email link above."; return; }
  try{
    const r=await fetch(endpoint,{method:"POST",body:data,headers:{"Accept":"application/json"}});
    if(r.ok){ m.textContent="✅ Sent. Thank you!"; f.reset(); setMailto(); }
    else{ const t=await r.json().catch(()=>({})); m.textContent=t?.error||"❌ Failed to send. Try later."; }
  }catch{ m.textContent="❌ Network error. Try again."; }
});
</script>



</body>
</html>
