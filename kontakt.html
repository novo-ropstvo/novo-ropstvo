<!-- kontakt.html (SR) -->
<!doctype html>
<html lang="sr">
<head>
<meta property="og:title" content="Novo Ropstvo — roman o modernom radu">
<meta property="og:description" content="Društveno angažovan roman o modernim oblicima eksploatacije rada.">
<meta property="og:type" content="website">
<meta property="og:url" content="https://novo-ropstvo.github.io/novo-ropstvo/">
<meta property="og:image" content="https://novo-ropstvo.github.io/novo-ropstvo/images/cover.jpg">
<meta name="twitter:card" content="summary_large_image">

<meta charset="utf-8">
<meta property="og:title" content="Kontakt — Novo Ropstvo">
<meta property="og:description" content="Kontaktirajte autora knjige Novo Ropstvo.">
<meta property="og:type" content="website">
<meta property="og:url" content="https://novo-ropstvo.github.io/novo-ropstvo/kontakt.html">
<meta property="og:image" content="https://novo-ropstvo.github.io/novo-ropstvo/images/cover.jpg">
<meta name="twitter:card" content="summary_large_image">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Kontakt — Novo Ropstvo</title>
<meta name="description" content="Kontaktirajte autora knjige Novo Ropstvo.">
<link rel="canonical" href="./kontakt.html">
<link rel="alternate" hreflang="en" href="./kontakt_en.html">
<link rel="alternate" hreflang="cs" href="./kontakt_cz.html">
<script src="./js/lang-switcher.js?v=3" defer></script>
<style>
:root{--max:720px}*{box-sizing:border-box}body{margin:0;background:#0b0f12;color:#e8e8e8;font:16px/1.5 system-ui,Segoe UI,Roboto,Arial,sans-serif}
.wrap{max-width:var(--max);margin:0 auto;padding:24px}
h1{margin:8px 0 16px;font-size:clamp(22px,3vw,32px)}
.card{background:#10161c;border:1px solid #1f2a33;border-radius:14px;padding:16px;margin:12px 0}
label{display:block;margin:8px 0 4px}
input,textarea,button{width:100%;padding:12px 14px;border-radius:10px;border:1px solid #2a3945;background:#0f1419;color:#e8e8e8}
textarea{min-height:160px;resize:vertical}
button{cursor:pointer}
.row{display:grid;gap:12px}@media(min-width:640px){.row{grid-template-columns:1fr 1fr}}
.msg{margin-top:10px;font-size:14px}
.nav a{margin-right:14px;opacity:.9;text-decoration:none}.nav a:hover{opacity:1;text-decoration:underline}
header,footer{max-width:var(--max);margin:0 auto;padding:16px}
.note{opacity:.8;font-size:14px}
.hp{position:absolute;left:-9999px;top:auto;width:1px;height:1px;overflow:hidden}
</style>
</head>
<body>
<header>
  <nav class="nav">
    <a href="./index.html">Početna</a>
    <a href="./galerija.html">Galerija</a>
    <a href="./placanje.html">Uplata</a>
    <a href="./kontakt.html" aria-current="page">Kontakt</a>
  </nav>

  <nav style="position:fixed;top:12px;right:16px;display:flex;gap:10px;font-size:14px">
    <a href="#" data-lang="sr" title="Srpski">SR</a>
    <a href="#" data-lang="en" title="English">EN</a>
    <a href="#" data-lang="cz" title="Česky">CZ</a>
  </nav>
</header>

<main class="wrap">
  <h1>Kontakt</h1>
  <div class="card">
    <form id="contactForm">
      <div class="row">
        <div>
          <label>Ime</label>
          <input name="name" placeholder="Vaše ime" required>
        </div>
        <div>
          <label>Email</label>
          <input type="email" name="email" placeholder="vas@email.com" required>
        </div>
      </div>
      <label>Poruka</label>
      <textarea name="message" placeholder="Napišite poruku…" required></textarea>

      <input class="hp" name="_gotcha" tabindex="-1" autocomplete="off">

      <div style="display:flex;gap:10px;flex-wrap:wrap;margin-top:10px">
        <button type="submit">Pošalji</button>
        <a id="mailto" href="#" class="note" style="align-self:center">…ili pošalji iz svog klijenta</a>
      </div>
      <div class="msg" id="msg"></div>
    </form>
    <p class="note">Odgovaramo u najkraćem roku. Polja sa * su obavezna.</p>
  </div>
</main>

<footer>© 2025 Marjan Mitrović — Sva prava zadržana</footer>

<script>
window.FORMSPREE_URL = "https://formspree.io/f/xyzpljrg";

const f = document.getElementById('contactForm');
const m = document.getElementById('msg');
const mailto = document.getElementById('mailto');

function setMailto(){
  const d=new FormData(f);
  const from=(d.get('email')||'').trim();
  const name=(d.get('name')||'').trim();
  const body=(d.get('message')||'').trim();
  const subj=encodeURIComponent("Poruka sa sajta — Novo Ropstvo");
  const txt =encodeURIComponent(`Ime: ${name}\nEmail: ${from}\n\n${body}`);
  mailto.href=`mailto:marjan.posao@gmail.com?subject=${subj}&body=${txt}`;
}
['input','change'].forEach(ev=>f.addEventListener(ev,setMailto)); setMailto();

f.addEventListener('submit', async (e)=>{
  e.preventDefault();
  m.textContent="⏳ Slanje…";
  const data=new FormData(f);
  if(data.get('_gotcha')){ m.textContent="❌ Greška."; return; }
  const endpoint=(window.FORMSPREE_URL||"").trim();
  if(!endpoint){ m.textContent="✉️ Formspree još nije povezan. Koristite link iznad."; return; }
  try{
    const r=await fetch(endpoint,{method:"POST",body:data,headers:{"Accept":"application/json"}});
    if(r.ok){ m.textContent="✅ Poruka poslata. Hvala!"; f.reset(); setMailto(); }
    else{ const t=await r.json().catch(()=>({})); m.textContent=t?.error||"❌ Slanje neuspešno. Pokušajte kasnije."; }
  }catch{ m.textContent="❌ Mrežna greška. Pokušajte ponovo."; }
});
</script>
</body>
</html>
